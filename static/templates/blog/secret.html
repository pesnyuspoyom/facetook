{%block aside_block%}
<aside class="col-md-4">
    <h3>Интересные статьи</h3>
    <div class="card mb-3">
        <h3 class="card-header">
            <ya-tr-span data-index="114-0" data-translated="true" data-source-lang="en" data-target-lang="ru"
                        data-value="Card header" data-translation="Заголовок карты" data-ch="0"
                        data-type="trSpan">Игры на Python
            </ya-tr-span>
        </h3>
        <div class="card-body">
            <h6 class="card-subtitle text-muted">
                <ya-tr-span data-index="116-0" data-translated="true" data-source-lang="en"
                            data-target-lang="ru" data-value="Support card subtitle"
                            data-translation="Поддержка субтитров на карточке" data-ch="0" data-type="trSpan"
                            data-selected="false">Поблагодарим за это нашу любимую библиотеку Pygame!
                </ya-tr-span>
            </h6>
        </div>
        <img src="http://itproger.com/img/news/1589893627.jpg" class="img-thumbnail ">
        <div class="card-body">
            <p class="card-text">
                <ya-tr-span data-index="91-0" data-translated="true" data-source-lang="en" data-target-lang="ru"
                            data-value="Some quick example text to build on the card title and make up the bulk of the card's content."
                            data-translation="Несколько кратких примеров текста для создания заголовка карточки и создания основной части содержимого карточки."
                            data-ch="1" data-type="trSpan">Уже не первый раз слышно, что кто то сделал игру на
                    Python. Мне как начинающему программисту стало интересно, как же такое возмонжо. Я же знаком
                    только с мельчайшим кусочком всего языка. Так давайте это узнаем!
                </ya-tr-span>
            </p>
        </div>
        <div class="card-body">
            <a href="http://itproger.com/news/285" target="_blank">
                <button class="btn btn-warning">Посмотреть</button>
            </a>
        </div>
    </div>
    <div class="card mb-3">
        <h3 class="card-header">
            <ya-tr-span data-index="114-0" data-translated="true" data-source-lang="en" data-target-lang="ru"
                        data-value="Card header" data-translation="Заголовок карты" data-ch="0"
                        data-type="trSpan">Инновационный движок GODOT
            </ya-tr-span>
        </h3>
        <div class="card-body">
            <h6 class="card-subtitle text-muted">
                <ya-tr-span data-index="116-0" data-translated="true" data-source-lang="en"
                            data-target-lang="ru" data-value="Support card subtitle"
                            data-translation="Поддержка субтитров на карточке" data-ch="0" data-type="trSpan"
                            data-selected="false">Давайте, наконец разберемся, что это за зверь такой!
                </ya-tr-span>
            </h6>
        </div>
        <img src="http://itproger.com/img/news/1591879929.jpg" class="img-thumbnail ">
        <div class="card-body">
            <p class="card-text">
                <ya-tr-span data-index="91-0" data-translated="true" data-source-lang="en" data-target-lang="ru"
                            data-value="Some quick example text to build on the card title and make up the bulk of the card's content."
                            data-translation="Несколько кратких примеров текста для создания заголовка карточки и создания основной части содержимого карточки."
                            data-ch="1" data-type="trSpan">Уже не первый год слышно много про движок годот. Он
                    стал очень привлекательным обновлением для наших геймдизайнеров, разработчиков, в общем всей
                    наших специалистов.
                </ya-tr-span>
            </p>
        </div>
        <div class="card-body">
            <a href="http://itproger.com/news/285" target="_blank">
                <button class="btn btn-warning">Посмотреть</button>
            </a>
        </div>
    </div>

</aside>
{% endblock %}

<button type="button" class="btn btn-primary btn-sm">
    <a href="{% url 'user-news' post.avtor %}"> {{post.avtor}}</a>
</button>

{% block nav %}
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container-fluid">
        <a class="navbar-brand" href="http://127.0.0.1:8000/">
            <ya-tr-span data-index="41-0" data-translated="false" data-source-lang="en" data-target-lang="ru"
                        data-value="Navbar" data-translation="Панель навигации" data-ch="0" data-type="trSpan">
                FACETOOK
            </ya-tr-span>
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarColor01"
                aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarColor01">
            <ul class="navbar-nav me-auto">
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'contacts' %}">
                        <ya-tr-span data-index="43-0" data-translated="false" data-source-lang="en"
                                    data-target-lang="ru" data-value="Features" data-translation="Характеристики"
                                    data-ch="0" data-type="trSpan">Контакты
                        </ya-tr-span>
                    </a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle show" data-bs-toggle="dropdown" href="#" role="button"
                       aria-haspopup="true" aria-expanded="true">
                        <ya-tr-span data-index="46-0" data-translated="false" data-source-lang="en"
                                    data-target-lang="ru" data-value="Dropdown" data-translation="Выпадающий список"
                                    data-ch="0" data-type="trSpan">Выпадающий список
                        </ya-tr-span>
                    </a>
                    <div class="dropdown-menu " data-bs-popper="static">
                        <a class="dropdown-item btn-primary" href="#">
                            <ya-tr-span data-index="142-0" data-translated="true" data-source-lang="en"
                                        data-target-lang="ru" data-value="Action" data-translation="Экшен"
                                        data-ch="0"
                                        data-type="trSpan">Что-нибудь
                            </ya-tr-span>
                        </a>
                        <a class="dropdown-item" href="#">
                            <ya-tr-span data-index="143-0" data-translated="true" data-source-lang="en"
                                        data-target-lang="ru" data-value="Another action"
                                        data-translation="Еще одно действие" data-ch="0" data-type="trSpan">Еще
                                что-нибудь
                            </ya-tr-span>
                        </a>
                        <a class="dropdown-item" href="#">
                            <ya-tr-span data-index="144-0" data-translated="true" data-source-lang="en"
                                        data-target-lang="ru" data-value="Something else here"
                                        data-translation="Здесь что-то еще" data-ch="0" data-type="trSpan">Такая же
                                фигня
                            </ya-tr-span>
                        </a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item btn btn-outline-success" href="#">
                            <ya-tr-span data-index="145-0" data-translated="true" data-source-lang="en"
                                        data-target-lang="ru" data-value="Separated link"
                                        data-translation="Разделенная ссылка" data-ch="0" data-type="trSpan">Ну, а
                                здесь
                                выпендрились
                            </ya-tr-span>
                        </a>
                    </div>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'base2' %}">
                        <ya-tr-span data-index="43-0" data-translated="false" data-source-lang="en"
                                    data-target-lang="ru" data-value="Features" data-translation="Характеристики"
                                    data-ch="0" data-type="trSpan">base2
                        </ya-tr-span>
                    </a>
                </li>
            </ul>
            {% if not user.is_authenticated %}
            <a href="{% url 'reg' %}">
                <button class="btn btn-outline-warning">Регистрация</button>
            </a>
            <a href="{% url 'user' %}" class="px-2">
                <button class="btn btn-outline-info">Войти</button>
            </a>
            {% else %}

            <div class="btn-group" role="group" aria-label="Группа кнопок с вложенным выпадающим списком">
                <button type="button" class="btn btn-danger">
                    <ya-tr-span data-index="112-0" data-translated="true" data-source-lang="en" data-target-lang="ru"
                                data-value="Danger" data-translation="Опасность" data-ch="0" data-type="trSpan">
                        {% if post1 %}
                        {{ post1 }}
                        <a href="{% url 'user-news' post1.avtor %}"> {{post1.avtor}}</a>
                        {% endif %}
                    </ya-tr-span>
                </button>
                <div class="btn-group" role="group">
                    <button id="btnGroupDrop4" type="button" class="btn btn-danger dropdown-toggle"
                            data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>
                    <div class="dropdown-menu" aria-labelledby="btnGroupDrop4">
                        <a class="dropdown-item" href="{% url 'news-add' %}">
                            <ya-tr-span data-index="73-0" data-translated="true" data-source-lang="en"
                                        data-target-lang="ru" data-value="Dropdown link"
                                        data-translation="Выпадающая ссылка" data-ch="1" data-type="trSpan">Добавить
                                статью
                            </ya-tr-span>
                        </a>
                        <a class="dropdown-item" href="{% url 'profile' %}">
                            <ya-tr-span data-index="74-0" data-translated="true" data-source-lang="en"
                                        data-target-lang="ru" data-value="Dropdown link"
                                        data-translation="Выпадающая ссылка" data-ch="1" data-type="trSpan">
                                Редактировать профиль
                            </ya-tr-span>
                        </a>
                        <a class="dropdown-item" href="{% url 'exit' %}">
                            <ya-tr-span data-index="74-0" data-translated="true" data-source-lang="en"
                                        data-target-lang="ru" data-value="Dropdown link"
                                        data-translation="Выпадающая ссылка" data-ch="1" data-type="trSpan">Выход
                            </ya-tr-span>
                        </a>
                    </div>
                </div>
            </div>

            <a href="{% url 'news-add' %}">
                <button class="btn btn-outline-secondary">Добавить статью</button>
            </a>
            <a href="{% url 'profile' %}" class="px-2">
                <button class="btn btn-outline-warning">Профиль</button>
            </a>
            <a href="{% url 'exit' %}" class="px-2">
                <button class="btn btn-outline-info">Выйти</button>
            </a>
            {% endif %}
        </div>
    </div>
</nav>
{% endblock %}
{%block content%}

{% if messages %}
{% for message in messages %}
<div class="alert alert-{{ message.tags }}">
    {{ message }}
</div>
{% endfor %}
{% endif %}
{% if news.count %}
{% for post in news %}
<div class="card border-primary mb-3" style="max-width: 52rem;">
    <div class="card-header">{{ post.title }}</div>
    <div class="card-body d-flex justify-content-between">
        <div>
            <h4 class="card-title">
                <p class="card-text">{{ post.text|striptags|truncatechars:100 }}</p>
            </h4>
            <div style="display: flex; align-items: center;">
                <div>
                    <img src="{{ post2.avtor.profile.img.url }}" alt="{{ post2.avtor }}" class="user_images">
                </div>
                <div style="margin-left: 10px; margin-top: 15px;">
                    <span class="text-muted">Публикация: {{ post.date|date:"d E Y, в H:i"}}</span>
                    <p>
                        <b>Автор:</b>
                        <button type="button" class="btn btn-primary btn-sm">
                            {% if post2 %}
                            {{ post2 }}
                            <a href="{% url 'user-news' post2.avtor %}"> {{post2.avtor}}</a>
                            {% endif %}
                        </button>
                    </p>
                </div>
            </div>
        </div>
        <a href="{% url 'news-detail' post.id %}" class="btn btn-outline-primary">Читать далее</a>
    </div>
</div>
{% endfor %}
{% else %}
<p>Статья успешно удалена.</p>
{% endif %}

{% if is_paginated %}
{% if page_obj.has_previous %}
<a href="{% url 'home' %}" class="btn btn-primary">Начало</a>
<a href="?page={{ page_obj.previous_page_number }}" class="btn btn-primary">Предыдущая</a>
{% endif %}

{% for num in page_obj.paginator.page_range %}
{% if num == page_obj.number %}
<button class="btn btn-primary">{{ num }}</button>
{% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
<a href="?page={{ num }}" class="btn btn-outline-light">{{ num }}</a>
{% endif %}
{% endfor %}

{% if page_obj.has_next %}
<a href="?page={{ page_obj.next_page_number }}" class="btn btn-primary">Следующая</a>
<a href="?page={{ page_obj.paginator.num_pages }}" class="btn btn-primary">Последняя</a>
{% endif %}
{% endif %}


{% endblock %}
